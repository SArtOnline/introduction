(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b4ba1da2"],{"0b47":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("page-header-wrapper",{attrs:{title:"JAVA文档","tab-list":e.tabList,"tab-active-key":e.tabActiveKey},on:{tabChange:e.handleTabChange},scopedSlots:e._u([{key:"content",fn:function(){return[r("a-descriptions",{attrs:{size:"small",column:e.isMobile?1:2}},[r("a-descriptions-item",{attrs:{label:"语雀文档"}},[r("a",{attrs:{href:"https://www.yuque.com/artonline/java/ng0wew",target:"_blank"}},[e._v("JAVA文档")])])],1)]},proxy:!0},{key:"extra",fn:function(){return[r("a-button-group",{staticStyle:{"margin-right":"4px"}},[r("a-button",[e._v("操作")]),r("a-button",[e._v("操作")]),r("a-button",[r("a-icon",{attrs:{type:"ellipsis"}})],1)],1),r("a-button",{attrs:{type:"primary"}},[e._v("主操作")])]},proxy:!0}])},[r("executor-service")],1)},a=[],n=r("432b"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a-card",{attrs:{bordered:!1,title:"线程池"}},[r("a-badge",{attrs:{slot:"extra",count:e.count},slot:"extra"},[r("a-button",{attrs:{icon:"plus"},on:{click:e.addThread}},[e._v("添加线程")])],1),r("a-button",{staticStyle:{"margin-left":"10px"},attrs:{slot:"extra",type:"primary"},on:{click:e.execute},slot:"extra"},[e._v("execute")]),r("a-form",{attrs:{form:e.form}},[r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{xs:7,md:7,lg:7}},[r("a-form-item",{attrs:{label:"corePoolSize"}},[r("a-input",{attrs:{type:"number",disabled:e.executeFlag},model:{value:e.threadPoolConfig.corePoolSize,callback:function(t){e.$set(e.threadPoolConfig,"corePoolSize",t)},expression:"threadPoolConfig.corePoolSize"}})],1)],1),r("a-col",{attrs:{xs:7,md:7,lg:7}},[r("a-form-item",{attrs:{label:"maximumPoolSize"}},[r("a-input",{attrs:{type:"number",disabled:e.executeFlag},model:{value:e.threadPoolConfig.maximumPoolSize,callback:function(t){e.$set(e.threadPoolConfig,"maximumPoolSize",t)},expression:"threadPoolConfig.maximumPoolSize"}})],1)],1),r("a-col",{attrs:{xs:7,md:7,lg:7}},[r("a-form-item",{attrs:{label:"keepAliveTime"}},[r("a-input",{attrs:{type:"number",disabled:e.executeFlag},model:{value:e.threadPoolConfig.keepAliveTime,callback:function(t){e.$set(e.threadPoolConfig,"keepAliveTime",t)},expression:"threadPoolConfig.keepAliveTime"}})],1)],1)],1),e.shutdown?e._e():r("a-row",{attrs:{gutter:24}},[r("a-col",{attrs:{xs:24,md:24,lg:24}},[r("a-form-item",{ref:"corePoolContainer",attrs:{label:"corePool"}},e._l(e.coreWorkers,(function(e,t){return r("a-progress",{key:"c"+t,attrs:{percent:e.percent,size:"small"}})})),1)],1),r("a-col",{attrs:{xs:24,md:24,lg:24}},[r("a-form-item",{ref:"otherContainer",attrs:{label:"maximumPool - corePool"}},e._l(e.maxWorkers,(function(e,t){return r("a-progress",{key:"m"+t,attrs:{percent:e.percent||0,size:"small"}})})),1)],1)],1)],1)],1)},s=[],u=(r("4de4"),r("a434"),r("8111"),{data:function(){return{threadPoolConfig:{corePoolSize:3,maximumPoolSize:5,keepAliveTime:1e3,timeUnit:"s",blockingQueue:[]},form:this.$form.createForm(),executeFlag:!1,count:0,workers:[],coreWorkers:[],maxWorkers:[]}},computed:{shutdown:function(){return 0===this.count&&0===this.workerCountOf()||0===this.workerCountOf()&&0===this.maxWorkers.length}},watch:{threadPoolConfig:{handler:function(e,t){(e.corePoolSize>this.threadPoolConfig.maximumPoolSize||this.threadPoolConfig.corePoolSize>e.maximumPoolSize)&&(this.$message.warning("corePoolSize不能大于maximumPoolSize"),this.threadPoolConfig.corePoolSize=this.threadPoolConfig.maximumPoolSize)},deep:!0},coreWorkers:{handler:function(e,t){var r=this;setTimeout((function(){for(var t=0;t<e.length;t++)e[t].percent>=100&&(r.coreWorkers[t].percent=0),0<e[t].percent&&e[t].percent<100&&(r.coreWorkers[t].percent=r.coreWorkers[t].percent+Math.ceil(3*Math.random()))}),1e3)},deep:!0},maxWorkers:{handler:function(e,t){var r=this;setTimeout((function(){for(var t=function(t){if(e[t].percent>=100){var o=setTimeout((function(){r.maxWorkers.splice(t,1)}),r.threadPoolConfig.keepAliveTime);return r.count>0&&(clearTimeout(o),r.maxWorkers[t].percent=0),"continue"}0<e[t].percent&&e[t].percent<100&&(r.maxWorkers[t].percent=r.maxWorkers[t].percent+Math.ceil(3*Math.random()))},o=0;o<e.length;o++)t(o)}),100)},deep:!0}},methods:{addThread:function(){this.count++,this.threadPoolConfig.blockingQueue.push({percent:1})},offer:function(){return this.threadPoolConfig.blockingQueue.pop()},addWorker:function(e){var t=this.offer();if(t)if(e){for(var r=0;r<this.coreWorkers.length;r++)if(0===this.coreWorkers[r].percent){this.coreWorkers[r].percent=1,this.count--;break}}else if(this.maxWorkers.length<this.threadPoolConfig.maximumPoolSize-this.threadPoolConfig.corePoolSize)this.maxWorkers.push(t),this.count--;else for(r=0;r<this.maxWorkers.length;r++)if(0===this.maxWorkers[r].percent){this.maxWorkers[r].percent=1,this.count--;break}},workerCountOf:function(){return this.coreWorkers.filter((function(e){return e.percent>0})).length},initPool:function(){for(var e=[],t=0;t<this.threadPoolConfig.corePoolSize;t++)e.push({percent:0});this.$set(this,"coreWorkers",e)},execute:function(){this.executeFlag=!0,this.initPool();var e=this,t=setInterval((function(){e.workerCountOf()<e.threadPoolConfig.corePoolSize?e.addWorker(!0):e.maxWorkers.filter((function(e){return e.percent>0})).length<e.threadPoolConfig.maximumPoolSize-e.threadPoolConfig.corePoolSize&&e.addWorker(!1),e.count<=0&&(e.$set(e,"executeFlag",!1),clearInterval(t))}),500)}}}),l=u,c=r("2877"),p=Object(c["a"])(l,i,s,!1,null,null,null),d=p.exports,m={components:{ExecutorService:d},name:"Advanced",mixins:[n["a"]],data:function(){return{tabList:[{key:"detail",tab:"详情"},{key:"rule",tab:"规则"}],tabActiveKey:"detail",operationTabList:[{key:"1",tab:"操作日志一"},{key:"2",tab:"操作日志二"},{key:"3",tab:"操作日志三"}],operationActiveTabKey:"1",operationColumns:[{title:"操作类型",dataIndex:"type",key:"type"},{title:"操作人",dataIndex:"name",key:"name"},{title:"执行结果",dataIndex:"status",key:"status",scopedSlots:{customRender:"status"}},{title:"操作时间",dataIndex:"updatedAt",key:"updatedAt"},{title:"备注",dataIndex:"remark",key:"remark"}],operation1:[{key:"op1",type:"订购关系生效",name:"曲丽丽",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"},{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",remark:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"},{key:"op4",type:"提交订单",name:"林东东",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"很棒"},{key:"op5",type:"创建订单",name:"汗牙牙",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"}],operation2:[{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",remark:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"},{key:"op4",type:"提交订单",name:"林东东",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"很棒"}],operation3:[{key:"op2",type:"财务复审",name:"付小小",status:"reject",updatedAt:"2017-10-03  19:23:12",remark:"不通过原因"},{key:"op3",type:"部门初审",name:"周毛毛",status:"agree",updatedAt:"2017-10-03  19:23:12",remark:"-"}]}},filters:{statusFilter:function(e){var t={agree:"成功",reject:"驳回"};return t[e]},statusTypeFilter:function(e){var t={agree:"success",reject:"error"};return t[e]}},methods:{handleTabChange:function(e){this.tabActiveKey=e}}},f=m,h=(r("ff9d"),Object(c["a"])(f,o,a,!1,null,"53ad187e",null));t["default"]=h.exports},3353:function(e,t,r){},"432b":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var o=r("5530"),a=r("5880"),n={computed:Object(o["a"])(Object(o["a"])({},Object(a["mapState"])({layout:function(e){return e.app.layout},navTheme:function(e){return e.app.theme},primaryColor:function(e){return e.app.color},colorWeak:function(e){return e.app.weak},fixedHeader:function(e){return e.app.fixedHeader},fixedSidebar:function(e){return e.app.fixedSidebar},contentWidth:function(e){return e.app.contentWidth},autoHideHeader:function(e){return e.app.autoHideHeader},isMobile:function(e){return e.app.isMobile},sideCollapsed:function(e){return e.app.sideCollapsed},multiTab:function(e){return e.app.multiTab}})),{},{isTopMenu:function(){return"topmenu"===this.layout}}),methods:{isSideMenu:function(){return!this.isTopMenu}}}},ff9d:function(e,t,r){"use strict";var o=r("3353"),a=r.n(o);a.a}}]);